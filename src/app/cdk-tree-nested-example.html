<mat-tree
  [dataSource]="dataSource"
  [trackBy]="trackBy"
  [treeControl]="treeControl"
>
  <mat-tree-node
    *matTreeNodeDef="let node"
    matTreeNodeToggle
    matTreeNodePadding
  >
    <button mat-icon-button disabled></button>
    <span
      class="checklist-leaf-node"
      [ngClass]="{
        'drop-above':
          dragNodeExpandOverArea === 'above' && dragNodeExpandOverNode === node,
        'drop-below':
          dragNodeExpandOverArea === 'below' && dragNodeExpandOverNode === node,
        'drop-center':
          dragNodeExpandOverArea === 'center' && dragNodeExpandOverNode === node
      }"
      draggable="true"
      (dragstart)="handleDragStart(node)"
      (dragover)="handleDragOver($event, node)"
      (drop)="handleDrop($event, node)"
      (dragend)="handleDragEnd()"
      >{{ node.name }}</span
    >
  </mat-tree-node>

  <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>
    <button
      mat-icon-button
      matTreeNodeToggle
      [attr.aria-label]="'toggle ' + node.filename"
    >
      <mat-icon class="mat-icon-rtl-mirror">
        {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}
      </mat-icon>
    </button>

    <span
      [ngClass]="{
        'drop-above':
          dragNodeExpandOverArea === 'above' && dragNodeExpandOverNode === node,
        'drop-below':
          dragNodeExpandOverArea === 'below' && dragNodeExpandOverNode === node,
        'drop-center':
          dragNodeExpandOverArea === 'center' && dragNodeExpandOverNode === node
      }"
      draggable="true"
      (dragstart)="handleDragStart(node)"
      (dragover)="handleDragOver($event, node)"
      (drop)="handleDrop($event, node)"
      (dragend)="handleDragEnd()"
      >{{ node.name }}</span
    >
  </mat-tree-node>
</mat-tree>
